# Snake-1-
贪吃蛇游戏软件分析与设计说明书
1. 项目背景与目标
1.1 项目背景
贪吃蛇游戏作为经典的单机游戏，本次开发旨在通过扩展功能增强用户体验，包括用户身份管理、游戏数据记录及界面优化。

1.2 项目目标

实现用户注册与登录功能，保障账户安全。

记录用户游戏日志，支持历史数据查询。

优化用户界面，提升交互友好性。

改进游戏核心算法，确保流畅性与稳定性。

2. 需求分析
2.1 功能性需求

需求编号	需求描述
FR-001	用户首次使用时需注册用户名和密码，密码需加密存储。
FR-002	每次启动游戏需验证用户身份，验证通过后方可进入游戏。
FR-003	游戏主界面动态显示当前用户信息（如“张三正在游戏中”）。
FR-004	按F5键弹出日志窗口，显示用户的游戏历史记录（开始时间、持续时长、得分）。
FR-005	优化蛇的移动算法，降低响应延迟至≤100ms。
2.2 非功能性需求

需求编号	需求描述
NFR-001	用户密码需使用SHA-256加盐加密存储。
NFR-002	游戏帧率稳定在60FPS，避免画面卡顿。
NFR-003	日志数据支持导出为CSV格式，便于后续分析。
3. 系统设计
3.1 架构设计
采用 分层架构，分为以下四层：

用户界面层（UI）：处理用户输入与界面渲染。

业务逻辑层（BLL）：实现游戏核心逻辑（移动、碰撞检测等）。

数据访问层（DAL）：管理用户表与日志表的读写操作。

数据库层（DB）：使用SQLite存储用户及日志数据。

3.2 功能模块划分
功能模块层次方框图
模块说明：

用户管理模块：处理注册、登录及会话管理。

游戏核心模块：实现蛇移动、食物生成及碰撞检测。

日志模块：记录游戏数据并提供查询接口。

界面模块：优化交互设计，集成提示信息与日志窗口。
4. 详细设计
4.1 数据库设计
用户表（user_table）

字段名	类型	约束	说明
user_id	INTEGER	PRIMARY KEY AUTOINCREMENT	用户唯一标识
username	VARCHAR(20)	NOT NULL UNIQUE	用户名
password_hash	CHAR(64)	NOT NULL	SHA-256加密密码
register_time	DATETIME	DEFAULT CURRENT_TIMESTAMP	注册时间
游戏日志表（game_log_table）

字段名	类型	约束	说明
log_id	INTEGER	PRIMARY KEY AUTOINCREMENT	日志唯一标识
user_id	INTEGER	FOREIGN KEY (user_id)	关联用户ID
start_time	DATETIME	NOT NULL	游戏开始时间
duration	INTEGER	NOT NULL	游戏时长（秒）
score	INTEGER	NOT NULL	本次得分
4.2 算法优化设计
蛇移动控制流程图

图表
代码












优化点：

方向缓冲：缓存连续按键输入，解决高频操作丢帧问题。

碰撞检测优化：使用空间划分算法（如网格法）减少计算量。

5. 用户界面设计
5.1 主界面布局
界面设计示意图

顶部状态栏：显示当前用户及实时得分。

游戏区域：居中显示蛇、食物及障碍物。

底部提示区：显示操作指南（如“按空格暂停”）。

5.2 日志窗口设计

表格视图：按时间倒序展示日志记录。

筛选功能：支持按日期范围或得分区间查询。

导出按钮：将日志导出为CSV文件。

6. 测试计划
6.1 测试用例

用例编号	测试场景	预期结果
TC-001	用户注册时输入无效用户名（如空值）	提示“用户名不能为空”
TC-002	游戏过程中连续快速按下方向键	蛇转向无延迟，无路径跳跃
TC-003	按下F5键后快速再次按下F5	日志窗口防抖处理，仅触发一次查询
6.2 性能测试

帧率测试：使用工具（如Fraps）监测游戏帧率，确保≥60FPS。

负载测试：模拟多用户并发登录，检查数据库响应时间。


